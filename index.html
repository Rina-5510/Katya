<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Лента времени</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="timeline-container">
        <div class="timeline">
            <!-- События будут добавляться сюда -->
        </div>
    </div>
    <button id="addEventButton">Добавить событие</button>
    
    <script src="script.js"></script>
</body>
</html>
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background-color: #f4f4f4;
}

.timeline-container {
    width: 80%;
    overflow-x: scroll;
    position: relative;
}

.timeline {
    position: relative;
    height: 100px;
    background-color: #e0e0e0;
    border-radius: 10px;
    display: flex;
    align-items: center;
}

.event {
    position: absolute;
    background-color: #ff5733;
    color: white;
    padding: 5px 10px;
    border-radius: 5px;
    cursor: pointer;
}

button {
    margin-top: 20px;
    padding: 10px 20px;
    font-size: 16px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

button:hover {
    background-color: #0056b3;
}
// Получаем элементы
const timeline = document.querySelector('.timeline');
const addEventButton = document.getElementById('addEventButton');
let eventCounter = 0;

// Функция для создания нового события
function createEvent() {
    // Инкрементируем счетчик событий
    eventCounter++;

    // Создаем новое событие
    const event = document.createElement('div');
    event.classList.add('event');
    event.textContent = `Событие ${eventCounter}`;
    
    // Генерируем случайную позицию для события на ленте времени
    const randomPosition = Math.random() * 80; // Позиция от 0% до 80%
    event.style.left = `${randomPosition}%`;
    
    // Генерируем случайную ширину для события (от 5% до 20%)
    const randomWidth = 5 + Math.random() * 15;
    event.style.width = `${randomWidth}%`;

    // Добавляем обработчик для перетаскивания события
    addDragEventListener(event);

    // Добавляем событие на ленту времени
    timeline.appendChild(event);
}

// Функция для добавления обработки перетаскивания события
function addDragEventListener(eventElement) {
    let isDragging = false;
    let startX;

    // Начало перетаскивания
    eventElement.addEventListener('mousedown', (e) => {
        isDragging = true;
        startX = e.clientX; // Сохраняем начальную позицию
    });

    // Перетаскивание
    document.addEventListener('mousemove', (e) => {
        if (isDragging) {
            constX = e.clientX - startX; // Разница в движении мыши
            const newLeft = Math.max(0, Math.min(100, parseFloat(eventElement.style.left || 0) + (X / timeline.offsetWidth) * 100));
            eventElement.style.left = `${newLeft}%`; // Перемещаем событие
            startX = e.clientX; // Обновляем начальную позицию
        }
    });

    // Завершение перетаскивания
    document.addEventListener('mouseup', () => {
        isDragging = false;
    });
}

// Обработчик нажатия на кнопку "Добавить событие"
addEventButton.addEventListener('click', createEvent);
let scale = 1; // Изначальный масштаб

timeline.addEventListener('wheel', (e) => {
    e.preventDefault();
    if (eY < 0) {
        scale *= 1.1; // Увеличиваем масштаб
    } else {
        scale /= 1.1; // Уменьшаем масштаб
    }

    // Применяем масштаб к ленте времени
    timeline.style.transform = `scaleX(${scale})`;
});
